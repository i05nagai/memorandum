---
title: Chapter02-07. Graphs and Free Categories
book_title: Categories for the working mathematician
book_chapter: 02
book_section: 07
---

## 02-07. Graphs and Free Categories


- $X$,
    - set

$FX$ is free monoid geenrated by $X$

$$
    FX
    :=
    \{
        x_{1}\cdots x_{n}
        \mid
        n \in \mathbb{N},
        \
        x_{i} \in X
    \}
    .
$$

Let $M$ be Monoid.
$UM \subseteq M$ and $f: X \rightarrow UM$.
$f$ can be extended to a unique morphism of monoids $g: FX \rightarrow M$.
Indeed,

$$
    g(x_{1}\cdots x_{n})
    := 
    f(x_{1})
    \cdots
    f(x_{n})
    .
$$

$f$ is clearly morphism and unique.

#### Definition Graph
- $O$,
    - set
- $A$
    - set
- $\partial_{0}: A \rightarrow O$,
- $\partial_{1}: A \rightarrow O$,

$G := (O, A, \partial_{0}, \partial_{1})$ is a directed graph.

For example, if $A$ is a set of arrows, $\partial_{0}$ and $\partial_{1}$ are

$$
    \partial_{0}f := \mathrm{Dom}f,
    \
    \partial_{1}f := \mathrm{Codom}f.
$$

<div class="end-of-statement" style="text-align: right">■</div>

Note that $A$ doesn't have to be a set of functions or arrows.
$A \subseteq \{f: o_{0} \rightarrow o_{1} \mid o_{0}, o_{1} \in O\}$ is an example of $A$.

#### Definition Morphism of graphs
- $D_{0}:O \rightarrow O^{\prime}$,
- $D_{A}:A \rightarrow A^{\prime}$

A $D:G \rightarrow G^{\prime}$ is said to be morphism if $D_{0}$ and $D_{A}$ satisfy

$$
\begin{equation}
    D_{O}\partial_{0}f
    =
    \partial_{0}^{\prime}D_{A}f,
    \
    D_{O}\partial_{1}f
    =
    \partial_{1}^{\prime}D_{A}f.
    \label{equation_02_07_graph_morhism}
\end{equation}
$$

<div class="end-of-statement" style="text-align: right">■</div>

#### Remark
- $G := (O, A, \partial_{0}, \partial_{1})$,
- $G^{\prime} := (O^{\prime}, A^{\prime}, \partial_{0}^{\prime}, \partial_{1}^{\prime})$,
- $G^{\prime\prime} := (O^{\prime\prime}, A^{\prime\prime}, \partial_{0}^{\prime\prime}, \partial_{1}^{\prime\prime})$,
- $D^{\prime}: G \rightarrow G^{\prime}$,
    - morhism
- $D^{\prime\prime}: G \rightarrow G^{\prime}$,
    - morhism

The composite of morphism can be defined as

$$
    D_{O} := D_{O}^{\prime\prime} \circ D_{O}^{\prime\prime},
    \
    D_{A} := D_{A}^{\prime\prime} \circ D_{A}^{\prime\prime}.
$$

This is again a morphism from $G$ to $G^{\prime\prime}$.
Indeed,

$$
\begin{eqnarray}
    D_{O}\partial_{0}f
    & = &
        D_{O}^{\prime\prime}D_{O}^{\prime}\partial_{0}f
    \nonumber
    \\
    & = &
        D_{O}^{\prime\prime}\partial_{0}^{\prime}D_{A}^{\prime}f
    \nonumber
    \\
    & = &
        \partial_{0}^{\prime\prime}D_{A}^{\prime\prime}D_{A}^{\prime}f
    \nonumber
    \\
    & = &
        \partial_{0}^{\prime\prime}D_{A}f
    .
    \nonumber
\end{eqnarray}
$$

Similarly,

$$
\begin{eqnarray}
    D_{O}\partial_{1}f
    & = &
        D_{O}^{\prime\prime}D_{O}^{\prime}\partial_{1}f
    \nonumber
    \\
    & = &
        D_{O}^{\prime\prime}\partial_{1}^{\prime}D_{A}^{\prime}f
    \nonumber
    \\
    & = &
        \partial_{1}^{\prime\prime}D_{A}^{\prime\prime}D_{A}^{\prime}f
    \nonumber
    \\
    & = &
        \partial_{1}^{\prime\prime}D_{A}f
    .
    \nonumber
\end{eqnarray}
$$

$\mathrm{Grph}$ is a category which consists of small graphs and morphisms of the graphs.

<div class="end-of-statement" style="text-align: right">■</div>

A graph is often called a digram scheme or a precategory.

#### Remark
Every category $C$ determines a graph $C$ with the same objects and arrows.

Every Functor $F: C \rightarrow C^{\prime}$ is alos a morphism $UF: UC \rightarrow UC^{\prime}$ between graphs.

These observations define the forgetful functor $U: \mathrm{Cat} \rightarrow \mathrm{Grph}$ from small categories to small graphs.
<div class="end-of-statement" style="text-align: right">■</div>

Let $O$ be a set.
An $O$-graph is a graph whose vertice is the set $O$.
A morphism of $O$-graphs consists of an identity $D_{O}: O \rightarrow O$ and a function $D_{A}: A \rightarrow A^{\prime}$.

- $G^{A} := (O, A, \partial_{0}^{A}, \partial_{1}^{A})$,
    - $O$-graph
- $G^{B} := (O, B, \partial_{0}^{B}, \partial_{1}^{B})$,
    - $O$-graph

$$
    A \times_{O} B
    :=
    \{
        \langle g, f \rangle
        \mid
        \partial_{0}^{A} g
        =
        \partial_{1}^{B} f,
        \
        g \in A,
        \
        f \in B
    \}
    .
$$

$$
\begin{eqnarray}
    \partial_{0}
    \langle
        g, f
    \rangle
    =
    \partial_{0}^{\prime\prime} f,
    \
    \partial_{1}
    \langle
        g, f
    \rangle
    =
    \partial_{1}^{\prime} g
    .
\end{eqnarray}
$$

With the above definitions, $G := (O, A \times_{O} B, \\partial_{0}, \partial_{1})$ is an $O$-graph.

The production $\times_{O}$ is associative.
Indeed, let $A, B, C$ be $O$-graphs.
It is sufficient to show there is a graph isomorphism such that

$$
    A \times_{O} (B \times_{O} C)
    \cong
    (A \times_{O} B) \times_{O} C
    .
$$

Based on the construction of the production, both sides are $O$-graphs.
Hence isomorhism has a identity on $O$ as a map.
Let $D_{A}: A \times_{O} (B \times_{O} C) \rightarrow (A \times_{O} B) \times_{O} C$ be

$$
    \langle a, \langle b, c \rangle \rangle \in A \times_{O} (B \times_{O} C),
    \
    D_{A}(\langle a, \langle b, c \rangle \rangle)
    :=
    \langle \langle a, b \rangle, c \rangle
    .
$$

We will show that $D := (Id_{O}, D_{A})$ is isomorhism.
Clearly, $D_{A}$ has inversemap. Thus, $D$ has an inverse map.

$$
\begin{eqnarray}
    Id_{O} \partial_{0} \langle a, \langle b, c \rangle \rangle
    & = &
        \partial_{0} \langle b, c \rangle
    \nonumber
    \\
    & = &
        \partial_{0} c
    \nonumber
\end{eqnarray}
$$

$$
\begin{eqnarray}
    \partial_{0} D_{A} \langle a, \langle b, c \rangle \rangle
    & = &
        \partial_{0} \langle \langle a, b \rangle, c \rangle
    \nonumber
    \\
    & = &
        \partial_{0} c
    \nonumber
    .
\end{eqnarray}
$$

Similary,

$$
\begin{eqnarray}
    Id_{O} (\partial_{1} \langle a, \langle b, c\rangle\rangle)
    & = &
        \partial_{1} a
    \nonumber
    .
\end{eqnarray}
$$

$$
\begin{eqnarray}
    \partial_{1} (D_{A} \langle a, \langle b, c\rangle\rangle
    & = &
        \partial_{1} \langle \langle a, b\rangle, c\rangle
    \nonumber
    \\
    & = &
        \partial_{1} \langle a, b\rangle
    \nonumber
    .
\end{eqnarray}
$$

Hence $D$ satisfies \eqref{equation_02_07_graph_morhism}.

#### Remark
There are a special isomorhism on $O$-graph $A$.

(a) $A \cong A \times_{O} O$.

(b) $A \cong O \times_{O} A$.

(a) is isomorhism $D_{A}(f) := \langle f, \partial_{0} f \rangle$.
$D_{A}$ has an inverse map.

$$
\begin{eqnarray}
    Id_{O} \partial_{0} f
    & = &
        \partial_{0} f
    \nonumber
\end{eqnarray}
$$

$$
\begin{eqnarray}
    \partial_{0} D_{A} f
    & = &
        \partial_{0} \langle f, \partial_{0}f \rangle
    \nonumber
    \\
    & = &
        \partial_{0} \partial_{0}f
    \nonumber
    \\
    & = &
        \partial_{0}f
    \nonumber
    .
\end{eqnarray}
$$

Similary,

$$
\begin{eqnarray}
    Id_{O} \partial_{1} f
    & = &
        \partial_{1} f
    \nonumber
\end{eqnarray}
$$

$$
\begin{eqnarray}
    \partial_{1} D_{A} f
    & = &
        \partial_{1} \langle f, \partial_{0}f \rangle
    \nonumber
    \\
    & = &
        \partial_{1} f
    \nonumber
    \\
    .
\end{eqnarray}
$$

<div class="end-of-statement" style="text-align: right">■</div>

#### Remark
Let $O$ and $A$ be sets.
Suppose that there are two $O$-graph morphisms

- $c: A \times_{O} A \rightarrow A$
- $i: O \rightarrow A$

$$
\begin{array}{ccc}
    (A \times_{O} A) \times_{O} A \cong A \times_{O} (A \times_{O} A)
        & \rightarrow
        & A \times_{O} A
    \\
    \downarrow c \times 1
        &
        & \downarrow c
    \\
    A \times_{O} A
        & \rightarrow
        & A
    \nonumber
\end{array}
$$

$$
\begin{array}{ccccc}
    O \times_{O} A
        & \xrightarrow{i \times 1}
        & A \times_{O} A
        & \xleftarrow{i \times 1}
        & A \times_{O} O
    \\
    \downarrow \cong
        &
        & \downarrow c
        &
        & \downarrow \cong
    \\
    A
        & =
        & A
        & =
        & A
    \nonumber
\end{array}
$$

Then this is a cateogry with objects $O$ and arrows $A$.
Arrows have a composite with $c$.
Let $f, g, h \in A$.

$$
    c(f, g) \in A
$$

Also it's associavitve from the cummutative diagram

$$
    c(f, c(g, h)) = c(c(f, g), h).
$$

Arros has identity with $i$.
Let $a \in O$.
Let $\langle f, \partial_{0} f\rangle f \in A \times_{O} O$ and $\partial_{0} f = a$.
From the commutative diagram,

$$
    c(f, i(\partial_{0} f)) = f.
$$

Similary,

$$
    c(i(\partial_{0} g), g) = g.
$$

So $i$ is indentity.
In this sense, a caregory is like monoid with the binary operation.

<div class="end-of-statement" style="text-align: right">■</div>



#### Theorem 1
- $G$
    - a small graph with $A$ edges and $O$ vertices

There is a small category $C := C_{G}$ with $O$ as a set of objects and a morhism $P: G \rightarrow UC$ such that
for any $B$ category and any graph morhism $D: G \rightarrow UB$, there is a unique functor $D^{\prime}: C \rightarrow B$

$$
    (UD^{\prime}) \circ P
    =
    D
    .
$$

$$
\begin{equation}
    \begin{array}{c}
        C
        \\
        \downarrow D^{\prime}
        \\
        B
    \end{array}
    \quad
    \begin{array}{ccc}
        G
            & \xrightarrow{P}
            & UC
        \\
            & \searrow D
            & \downarrow UD^{\prime}
        \\
            &
            & UB
    \end{array}
\end{equation}
$$

In particular, if $B$ has $O$ as a set of objects and $D$ is a morhism of $O$-gprahs,
then $D^{\prime}$ is the identity on objects.

#### proof

<div class="QED" style="text-align: right">$\Box$</div>
